<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gold Jump ü™ô</title>
  <style>
    body{
      margin:0;
      background:#111;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      font-family: system-ui, -apple-system, "Prompt", sans-serif;
      color:gold;
      padding:16px;
      user-select:none;
      -webkit-user-select:none;
      touch-action: manipulation;
    }
    .wrap{ width:min(920px, 100%); text-align:center; }
    h1{ margin:0 0 8px; text-shadow:0 0 10px rgba(255,215,0,.6); }
    .hint{ margin:0 0 12px; color:#ddd; font-size:14px; }
    canvas{
      width:100%;
      max-width:920px;
      aspect-ratio: 16 / 6;
      background: linear-gradient(#300, #111);
      border-radius:16px;
      box-shadow:0 0 20px rgba(255,215,0,.35);
      border:1px solid rgba(255,215,0,.25);
      display:block;
      margin:0 auto;
      touch-action: none;
    }
    .bar{
      display:flex; gap:10px; justify-content:center; flex-wrap:wrap;
      margin: 10px 0 0;
    }
    button{
      font-size:16px;
      padding:10px 16px;
      border:none;
      border-radius:12px;
      cursor:pointer;
      background: linear-gradient(45deg, #d4af37, #ffcc00);
      color:#111;
      box-shadow:0 0 12px rgba(255,204,0,.35);
    }
    .hud{ margin-top:10px; color:#eee; font-size:14px; }
    .hud b{ color:#00ff99; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ü™ô Gold Jump ‚Äî ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏ó‡∏≠‡∏á ü™ô</h1>
    <p class="hint">‡∏Ñ‡∏•‡∏¥‡∏Å/‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚Äú‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‚Äù ‚Ä¢ ‡∏ä‡∏ô‡∏ó‡∏≠‡∏á = ‡∏à‡∏ö‡πÄ‡∏Å‡∏°</p>

    <canvas id="game" width="960" height="360"></canvas>

    <div class="bar">
      <button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
      <button id="restartBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
    </div>

    <div class="hud">
      ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <b id="score">0</b> ‚Ä¢ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <b id="best">0</b> ‚Ä¢ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: <b id="state">‡∏û‡∏£‡πâ‡∏≠‡∏°</b>
    </div>
  </div>

<script>
(() => {
  const canvas = document.getElementById("game");
  const ctx = canvas.getContext("2d");

  const scoreEl = document.getElementById("score");
  const bestEl  = document.getElementById("best");
  const stateEl = document.getElementById("state");
  const startBtn = document.getElementById("startBtn");
  const restartBtn = document.getElementById("restartBtn");

  const W = canvas.width, H = canvas.height;
  const groundY = Math.floor(H * 0.78);

  const BEST_KEY = "goldjump_best";
  let best = Number(localStorage.getItem(BEST_KEY) || 0);
  bestEl.textContent = best.toLocaleString();

  let running = false;
  let gameOver = false;
  let frame = 0;
  let score = 0;
  let speed = 6.0;

  const player = {
    x: Math.floor(W * 0.12),
    y: groundY - 52,
    w: 40,
    h: 52,
    vy: 0,
    onGround: true
  };

  const golds = [];
  let spawnTick = 0;

  function rand(min, max){ return Math.random() * (max-min) + min; }

  function reset(){
    running = false;
    gameOver = false;
    frame = 0;
    score = 0;
    speed = 6.0;
    player.y = groundY - player.h;
    player.vy = 0;
    player.onGround = true;
    golds.length = 0;
    spawnTick = 0;
    scoreEl.textContent = "0";
    stateEl.textContent = "‡∏û‡∏£‡πâ‡∏≠‡∏°";
    draw(); // ‡∏ß‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡πà‡∏ô
  }

  function jump(){
    if (!running || gameOver) return;
    if (player.onGround){
      player.vy = -16;
      player.onGround = false;
    }
  }

  function spawnGold(){
    golds.push({
      x: W + 20,
      y: groundY - 34,
      w: 34,
      h: 34
    });
  }

  function hit(a,b){
    return a.x < b.x + b.w &&
           a.x + a.w > b.x &&
           a.y < b.y + b.h &&
           a.y + a.h > b.y;
  }

  function end(){
    running = false;
    gameOver = true;
    stateEl.textContent = "‡∏à‡∏ö‡πÄ‡∏Å‡∏°";
    if (score > best){
      best = Math.floor(score);
      localStorage.setItem(BEST_KEY, String(best));
      bestEl.textContent = best.toLocaleString();
    }
  }

  function start(){
    if (gameOver) return;
    running = true;
    stateEl.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô";
    loop();
  }

  function restart(){
    reset();
    running = true;
    stateEl.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô";
    loop();
  }

  function update(){
    if (!running) return;

    frame++;
    speed += 0.0009;      // ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢ ‡πÜ
    score += 0.6;         // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤

    // ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå
    player.vy += 0.95;
    player.y += player.vy;

    if (player.y >= groundY - player.h){
      player.y = groundY - player.h;
      player.vy = 0;
      player.onGround = true;
    }

    // ‡∏™‡∏∏‡πà‡∏°‡∏ó‡∏≠‡∏á (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)
    spawnTick++;
    const every = Math.max(50, 95 - Math.floor(speed * 6)); // ‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß ‡∏¢‡∏¥‡πà‡∏á‡∏ñ‡∏µ‡πà
    if (spawnTick >= every){
      spawnGold();
      spawnTick = 0;
    }

    // ‡∏Ç‡∏¢‡∏±‡∏ö‡∏ó‡∏≠‡∏á
    for (let i = golds.length - 1; i >= 0; i--){
      golds[i].x -= speed;
      if (golds[i].x + golds[i].w < -50) golds.splice(i,1);
    }

    // ‡∏ä‡∏ô = ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
    for (const g of golds){
      if (hit(player, g)){
        end();
        break;
      }
    }

    scoreEl.textContent = Math.floor(score).toLocaleString();
  }

  function draw(){
    // ‡∏â‡∏≤‡∏Å‡∏´‡∏•‡∏±‡∏á
    ctx.clearRect(0,0,W,H);
    const bg = ctx.createLinearGradient(0,0,0,H);
    bg.addColorStop(0, "rgba(255,255,255,0.02)");
    bg.addColorStop(0.35, "rgba(255,0,0,0.10)");
    bg.addColorStop(1, "rgba(0,0,0,0.45)");
    ctx.fillStyle = bg;
    ctx.fillRect(0,0,W,H);

    // ‡∏û‡∏∑‡πâ‡∏ô
    ctx.strokeStyle = "rgba(255,215,0,.75)";
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(0, groundY+1);
    ctx.lineTo(W, groundY+1);
    ctx.stroke();

    // ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
    ctx.fillStyle = "#ffd700";
    roundRect(player.x, player.y, player.w, player.h, 10);
    ctx.fill();

    // ‡∏ó‡∏≠‡∏á (‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á)
    for (const g of golds){
      const grad = ctx.createLinearGradient(g.x, g.y, g.x+g.w, g.y+g.h);
      grad.addColorStop(0, "#d4af37");
      grad.addColorStop(0.55, "#ffcc00");
      grad.addColorStop(1, "#b8860b");
      ctx.fillStyle = grad;
      roundRect(g.x, g.y, g.w, g.h, 8);
      ctx.fill();

      // ‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏á‡∏≤‡∏ß‡∏≤‡∏ß ‡πÜ
      ctx.globalAlpha = 0.35;
      ctx.strokeStyle = "#fff";
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(g.x+5, g.y+6);
      ctx.lineTo(g.x+5, g.y+g.h-6);
      ctx.stroke();
      ctx.globalAlpha = 1;
    }

    // Overlay ‡∏ï‡∏≠‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏° / ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
    if (!running){
      ctx.fillStyle = "rgba(0,0,0,0.35)";
      ctx.fillRect(0,0,W,H);

      ctx.fillStyle = "#ffd700";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.font = "700 34px system-ui, sans-serif";
      ctx.fillText(gameOver ? "GAME OVER" : "‡∏Ñ‡∏•‡∏¥‡∏Å/‡πÅ‡∏ï‡∏∞ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î", W/2, H*0.42);

      ctx.font = "600 18px system-ui, sans-serif";
      ctx.fillStyle = "#ddd";
      ctx.fillText(gameOver ? "‡∏Å‡∏î ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°" : "‡∏Å‡∏î ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢", W/2, H*0.55);
    }
  }

  function roundRect(x,y,w,h,r){
    const rr = Math.min(r, w/2, h/2);
    ctx.beginPath();
    ctx.moveTo(x+rr, y);
    ctx.arcTo(x+w, y, x+w, y+h, rr);
    ctx.arcTo(x+w, y+h, x, y+h, rr);
    ctx.arcTo(x, y+h, x, y, rr);
    ctx.arcTo(x, y, x+w, y, rr);
    ctx.closePath();
  }

  function loop(){
    if (!running) { draw(); return; }
    update();
    draw();
    requestAnimationFrame(loop);
  }

  // ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢ ‚Äú‡∏Ñ‡∏•‡∏¥‡∏Å/‡πÅ‡∏ï‡∏∞‚Äù ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ pointerdown
  canvas.addEventListener("pointerdown", (e) => {
    e.preventDefault();
    if (!running && !gameOver) start();
    jump();
  });

  startBtn.addEventListener("click", start);
  restartBtn.addEventListener("click", restart);

  reset();
})();
</script>
</body>
</html>
